<!DOCTYPE html>
<html lang="nl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profiel</title>
    <link rel="stylesheet" href="/styles/algemeen.css">
    <link rel="stylesheet" href="/styles/profile.css" />
  </head>

  
  <body>
    <%- include('header') %>
    
    <main>
      <section class="profielBanner">
        <img class="backgroundImage lazy-load" data-src="/images/clash_achtergrond_horizontaal.jpg" alt="Achtergrond foto">
        <img class="profielFoto lazy-load"
        data-src="/images/Tovenaar.png"
        alt="Een foto van een karakter">
        <h1><%= username %></h1>
        <h2><%= email %></h2>
      </section>

      <section class="profileContainer">

        <section class="profileInfo">
          <h2>Profiel</h2>
          <ul>
            <li><p>Naam: <%= username %></p></li>
            <li><p>Email: <%= email %></p></li>
            <li>
              <form action="/logout" method="POST" style="display: inline;">
                <button type="submit" class="btn">Uitloggen</button>
              </form>
            </li>
          </ul>
        </section>

        <section class="opgeslagen">
          <h2>Opgeslagen clans</h2>

          <section class="clanList">
            <ul>
              <% if (clansData && clansData.length > 0) { %>
                <% clansData.forEach(clan => { %>
                  <li>
                    <div class="clanCard">
                      <img src="<%= clan.clanImg %>" alt="<%= clan.clanName %> logo">
                      <h3><%= clan.clanName %></h3>
                      <p>#<%= clan.clanTag %></p>
                      <!-- Add more clan details as needed -->
                      <form id="removeClanForm" data-clan-tag="<%= clan.clanTag %>" data-clan-name="<%= clan.clanName %>">
                        <input type="hidden" name="clanTag" value="<%= clan.clanTag %>">
                        <button type="submit" class="btn remove-btn">Verwijderen</button>
                      </form>
                    </div>
                  </li>
                <% }); %>
              <% } else { %>
                <li>
                  <p><%= error %></p>
                </li>
              <% } %>
            </ul>
          </section>
        
      </section>

      <!-- Add this popup element somewhere in your template -->
      <div id="notification" class="notification" style="display: none;">
        <div class="notification-content">
          <p id="notification-message"></p>
          <button id="notification-close">Sluiten</button>
        </div>
      </div>

      <div class="popupFotosOntzichtbaar"> 
        <ul>
          <li><img src="/images/Tovenaar.png" alt=""></li>
          <li><img src="/images/Reus.png" alt=""></li>
          <li><img src="/images/Heks.png" alt=""></li>
          <li><img src="/images/Barbaar.png" alt=""></li>
          <li class="knopList"><button>Opslaan</button></li>
        </ul>
      </div>
    </main>
    <script src="/javascript/lazyLoad.js"></script>
    <script src="/javascript/profile.js"></script>
    <script src="/javascript/animaties.js"></script>
    <script>
    </script>
  </body>
</html>
